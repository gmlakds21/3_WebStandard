<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
<h2>정규 표현식</h2>
    <script>
        // 문자열을 다룰 떄 좀더 섬세하게 처리하고 싶다면
        // 정규 표현식을 사용하는 것이 좋다
        // ^ : 문자열의 시작 (^a)
        // $ : 문자열의 끝 (z$)

        // . : 임의의 한 문자를 의미
        // ? : 0 또는 1 반복
        // * : 0 이상 반복
        // + : 1 이상 반복
        // {m,n} : 최소 m번, 최대 n번 반복

        // | : or 를 의미 (x|y)
        // [] : 선택가능한 문자들의 집합 [abc]
        // [^] : 특정 문자 제외 [^xyz] : x나 y나 z를 제외
        // [-] : 문자열 범위 의미 [0-9] : [0123456789]

        let str4 = '간장 공장 공장장은 강 공장장이고' + '된장 공장 공장장은 장 공장장이다.'
        let reg1 = /공장/;
        let reg2 = /공장/g;   // 정규표현식 지시자 flags 검색범위를 전체로 설정
        let reg3 = /춘장/;

        document.write(str4.search(reg1),'<br>');
        document.write(str4.search(reg2),'<br>');
        document.write(str4.search(reg3),'<br>');
        document.write('<br>')
        // search : 문자열에서 공장을 찾아봄, 조건에 맞는 문자열을 찾으면 index 출력
        // 찾지 못하면 -1 출력

        document.write(str4.match(reg1),'<br>');
        document.write(str4.match(reg2),'<br>');
        document.write(str4.match(reg3),'<br>');
        document.write('<br>')
        // match : 문자열에서 공장을 찾아봄, 조건에 맞는 문자열을 찾으면 문자열 출력
        // 찾지 못하면 null

        document.write(reg1.test(str4),'<br>');
        document.write(reg2.test(str4),'<br>');
        document.write(reg3.test(str4),'<br>');
        document.write('<br>')
        // test : 조건에 맞는 문자열을 찾으면 true 를 출력
        // 찾지 못하면 false 를 출력
    </script>


    <h2>연습</h2>
    <script>
        // 특정파일명이 index 로 시작하는지
        // 확장자가 html 로 끝나는지 검사하는 정규표현식 작성
        let str22 = 'index.html';
        reg21 = /^index/;
        reg22 = /html$/;

        document.write(reg21.test(str22),'<br>')
        document.write(reg22.test(str22),'<br>')
        document.write('<br>')

        // 전화번호를 확인하는 정규표현식
        let str33 = '123-456-7890' ;
        reg31 = /[0-9]{3}-[0-9]{3}-[0-9]{4}/;
        document.write(reg31.test(str33),'<br>')
        document.write('<br>')

        // 주민번호를 확인하는 정규표현식
        let str44 = '123456-1234567';
        reg41 = /[0-9]{6}-[0-9]{7}/ ;
        reg42 = /[0-9]{2}(0[0-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1])-[1-4][0-9]{6}/;
        document.write(reg41.test(str44),'<br>')
        document.write('<br>')

        //이메일 주소를 확인하는 정규 표현식
        let str55 = 'asdf@naver.com' ;
        reg51 = /[a-zA-Z]+@[a-zA-Z.]+/;
        document.write(reg51.test(str55),'<br>')
        document.write('<br>')

        // 특정 아이디가 올바르게 만들어졌는지 확인
        // 조건 : 알파뱃 소문자로 시작하고 대/소문자를 이용해서
        // 총 길이가 7~15 사이
        let str66 = 'a1x2y3zbc';
        let str67 = 'abcX98';
        let str68 = '9cba123x';
        reg61 = /^[a-z][0-9a-zA-Z]{6,14}$/;
        document.write(reg61.test(str66),'<br>')
        document.write(reg61.test(str67),'<br>')
        document.write(reg61.test(str68),'<br>')
        document.write('<br>')

        // 특정 비밀번호가 올바르게 만들어졌는지 확인
        // 조건 : 알파벳 소문자로 시작하고 대/소문자/숫자/특수문자(!@#$-)를
        //          최소 하나이상 포함해서 총 문자길이가 8~16 사이 작성

        reg71 = /^[a-z](?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$-])[a-zA-Z0-9!@#$-]{3,11}$/;
        document.write(reg71.test(str66),'<br>')

    </script>

</body>
</html>